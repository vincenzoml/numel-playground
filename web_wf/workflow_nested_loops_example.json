{
  "options": {
    "type": "workflow_options",
    "name": "Nested Loops Demo",
    "description": "Demonstrates 3 levels of nested loops"
  },
  "nodes": [
    {
      "type": "start_flow",
      "extra": { "name": "Start" }
    },
    {
      "type": "for_each_start_flow",
      "items": ["A", "B"],
      "extra": { "name": "Outer Loop" }
    },
    {
      "type": "preview_flow",
      "extra": { "name": "Outer Value" }
    },
    {
      "type": "for_each_start_flow",
      "items": [1, 2, 3],
      "extra": { "name": "Middle Loop" }
    },
    {
      "type": "preview_flow",
      "extra": { "name": "Middle Value" }
    },
    {
      "type": "loop_start_flow",
      "condition": true,
      "max_iter": 2,
      "extra": { "name": "Inner Loop" }
    },
    {
      "type": "preview_flow",
      "extra": { "name": "Inner Iteration" }
    },
    {
      "type": "loop_end_flow",
      "extra": { "name": "Inner End" }
    },
    {
      "type": "for_each_end_flow",
      "extra": { "name": "Middle End" }
    },
    {
      "type": "for_each_end_flow",
      "extra": { "name": "Outer End" }
    },
    {
      "type": "end_flow",
      "extra": { "name": "End" }
    }
  ],
  "edges": [
    { "source": 0, "target": 1, "source_slot": "pin", "target_slot": "pin" },
    { "source": 1, "target": 2, "source_slot": "current", "target_slot": "input" },
    { "source": 2, "target": 3, "source_slot": "output", "target_slot": "pin" },
    { "source": 3, "target": 4, "source_slot": "current", "target_slot": "input" },
    { "source": 4, "target": 5, "source_slot": "output", "target_slot": "pin" },
    { "source": 5, "target": 6, "source_slot": "iteration", "target_slot": "input" },
    { "source": 6, "target": 7, "source_slot": "output", "target_slot": "pin" },
    { "source": 7, "target": 8, "source_slot": "output", "target_slot": "pin" },
    { "source": 8, "target": 9, "source_slot": "output", "target_slot": "pin" },
    { "source": 9, "target": 10, "source_slot": "output", "target_slot": "pin" },

    { "source": 7, "target": 5, "source_slot": "output", "target_slot": "pin", "loop": true },
    { "source": 8, "target": 3, "source_slot": "output", "target_slot": "pin", "loop": true },
    { "source": 9, "target": 1, "source_slot": "output", "target_slot": "pin", "loop": true }
  ]
}
